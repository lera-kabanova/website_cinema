# ДОКУМЕНТАЦИЯ ПРИЛОЖЕНИЯ CINEMA

## 1. ОПИСАНИЕ СТРАНИЦ ПРИЛОЖЕНИЯ

Веб-приложение CINEMA состоит из 11 основных страниц:

### 1.1. Главная страница (/)

На странице Главная пользователь может ознакомиться с информацией о кинотеатре, просмотреть текущие фильмы в прокате, посмотреть трейлеры фильмов, перейти к бронированию билетов. Главная страница состоит из двух основных компонентов: секции с текущими фильмами в прокате и секции с постером фильма. Элементы управления главной страницы показаны в таблице 1.1.

**Таблица 1.1 – Элементы управления главной страницы**

| Элементы управления главной страницы | Свойства | Назначение |
|--------------------------------------|----------|------------|
| Header | Class = header | Навигационное меню с переходами на другие страницы |
| ShowingMovies | Component | Отображение текущих фильмов в прокате с автоматической прокруткой |
| MoviePoster | Component | Отображение постеров фильмов |
| Button "Купить билет" | Class = cinema-accent | Переход на страницу бронирования |
| Button "Трейлер" | Class = play-button | Открытие модального окна с трейлером фильма |
| Navigation "Главная" | Class =   | Переход на главную страницу |
| Navigation "Афиша" | Class = navItem | Переход на страницу афиши |
| Navigation "Расписание" | Class = navItem | Переход на страницу расписания |
| Navigation "Залы" | Class = navItem | Переход на страницу залов |
| Footer | Class = footer | Отображение контактной информации и ссылок |

### 1.2. Страница Афиша (/afisha)

На странице Афиша пользователь может просмотреть все доступные фильмы, отфильтровать их по жанрам, перейти к детальной информации о фильме. Элементы управления страницы афиши показаны в таблице 1.2.

**Таблица 1.2 – Элементы управления страницы афиши**

| Элементы управления страницы афиши | Свойства | Назначение |
|-----------------------------------|----------|------------|
| GenreFilter | Component | Фильтрация фильмов по жанрам |
| MovieCard | Component | Отображение карточки фильма с постером |
| Link to MovieDetails | Route | Переход на страницу детальной информации о фильме |
| Image | Class = movie-poster | Отображение постера фильма |
| AgeRating | Class = age-rating | Отображение возрастного рейтинга фильма |

### 1.3. Страница Расписание (/schedule)

На странице Расписание пользователь может просмотреть расписание сеансов на выбранную дату, выбрать фильм и время сеанса для бронирования, перейти к бронированию билетов. Администраторы могут генерировать расписание на выбранный период. Элементы управления страницы расписания показаны в таблице 1.3.

**Таблица 1.3 – Элементы управления страницы расписания**

| Элементы управления страницы расписания | Свойства | Назначение |
|----------------------------------------|----------|------------|
| DateSlider | Component | Выбор даты для просмотра расписания |
| MovieCard | Component | Отображение карточки фильма с сеансами |
| SessionTime | Class = session-time | Отображение времени сеанса и зала |
| Button "Сгенерировать расписание" | Class = generate-btn | Генерация расписания (только для администраторов) |
| Dialog | Component | Модальное окно для генерации расписания |
| Input "Начальная дата" | Type = date | Выбор начальной даты для генерации |
| Input "Конечная дата" | Type = date | Выбор конечной даты для генерации |

### 1.4. Страница Залы (/halls)

На странице Залы пользователь может ознакомиться с информацией о кинозалах, их характеристиках, типах мест, правилами посещения. Элементы управления страницы залов показаны в таблице 1.4.

**Таблица 1.4 – Элементы управления страницы залов**

| Элементы управления страницы залов | Свойства | Назначение |
|-----------------------------------|----------|------------|
| HallCard | Component | Отображение карточки зала с описанием |
| SeatLegend | Component | Отображение легенды типов мест в зале |
| Image | Class = hall-image | Отображение фотографии зала |
| Specifications | Class = specs | Отображение характеристик зала |
| Rules | Class = rules | Отображение правил посещения |

### 1.5. Страница Детали фильма (/movie/:id)

На странице Детали фильма пользователь может просмотреть подробную информацию о фильме, посмотреть трейлер, выбрать сеанс для бронирования. Элементы управления страницы деталей фильма показаны в таблице 1.5.

**Таблица 1.5 – Элементы управления страницы деталей фильма**

| Элементы управления страницы деталей фильма | Свойства | Назначение |
|--------------------------------------------|----------|------------|
| MovieImage | Class = movie-image | Отображение постера фильма |
| MovieTitle | Class = movie-title | Отображение названия фильма |
| MovieDescription | Class = description | Отображение описания фильма |
| MovieSessions | Component | Отображение доступных сеансов фильма |
| Button "Купить билет" | Class = book-button | Переход на страницу бронирования |
| TrailerButton | Class = trailer-btn | Открытие трейлера фильма |

### 1.6. Страница Бронирование (/booking/:scheduleId)

На странице Бронирование пользователь может выбрать места в зале, выбрать тип билета, просмотреть итоговую стоимость и оформить бронирование. Элементы управления страницы бронирования показаны в таблице 1.6.

**Таблица 1.6 – Элементы управления страницы бронирования**

| Элементы управления страницы бронирования | Свойства | Назначение |
|------------------------------------------|----------|------------|
| SeatingChart | Component | Отображение схемы зала с местами |
| SeatButton | Class = seat-button | Выбор места в зале |
| TicketTypeSelector | Component | Выбор типа билета (стандартный, студенческий, пенсионный) |
| PriceDisplay | Class = price-display | Отображение итоговой стоимости |
| Button "Забронировать" | Class = book-btn | Оформление бронирования |
| SeatLegend | Component | Отображение легенды типов мест |

### 1.7. Страница Профиль (/profile)

На странице Профиль пользователь может просмотреть свои данные, изменить пароль, просмотреть историю бронирований. Элементы управления страницы профиля показаны в таблице 1.7.

**Таблица 1.7 – Элементы управления страницы профиля**

| Элементы управления страницы профиля | Свойства | Назначение |
|-------------------------------------|----------|------------|
| Tab "Профиль" | Class = tab | Переключение на вкладку профиля |
| Tab "Билеты" | Class = tab | Переключение на вкладку билетов |
| Tab "Безопасность" | Class = tab | Переключение на вкладку безопасности |
| EmailDisplay | Class = email | Отображение email пользователя |
| TicketList | Component | Отображение списка забронированных билетов |
| PasswordForm | Component | Форма изменения пароля |
| Button "Выйти" | Class = logout-btn | Выход из аккаунта |
| StatsDisplay | Component | Отображение статистики (количество билетов, фильмов) |

### 1.8. Страница О нас (/about)

На странице О нас пользователь может ознакомиться с информацией о кинотеатре, его особенностях, статистикой и технологиями. Элементы управления страницы "О нас" показаны в таблице 1.8.

**Таблица 1.8 – Элементы управления страницы "О нас"**

| Элементы управления страницы "О нас" | Свойства | Назначение |
|-------------------------------------|----------|------------|
| HeroSection | Component | Отображение заголовка и описания |
| FeaturesGrid | Component | Отображение особенностей кинотеатра |
| StatsSection | Component | Отображение статистики |
| TechShowcase | Component | Отображение технологий |

### 1.9. Страница Контакты (/contacts)

На странице Контакты пользователь может просмотреть контактную информацию кинотеатра и отправить сообщение через форму обратной связи. Элементы управления страницы контактов показаны в таблице 1.9.

**Таблица 1.9 – Элементы управления страницы контактов**

| Элементы управления страницы контактов | Свойства | Назначение |
|---------------------------------------|----------|------------|
| ContactInfo | Component | Отображение контактной информации |
| FeedbackForm | Component | Форма обратной связи |
| Input "Имя" | Type = text | Ввод имени пользователя |
| Input "Логин" | Type = text | Ввод логина пользователя |
| Textarea "Сообщение" | Component | Ввод текста сообщения |
| Button "Отправить" | Class = submit-btn | Отправка сообщения |

### 1.10. Страница Политика конфиденциальности (/privacy)

На странице Политика конфиденциальности пользователь может ознакомиться с политикой конфиденциальности кинотеатра, правилами обработки персональных данных.

### 1.11. Страница Условия использования (/terms)

На странице Условия использования пользователь может ознакомиться с условиями использования веб-приложения.

---

## 2. ОПИСАНИЕ ЛОГИЧЕСКОЙ СТРУКТУРЫ ПРОГРАММЫ

Веб-приложение содержит следующие функции:

### Функции аутентификации и авторизации:

- **validateForm()** – проверка корректности данных формы регистрации/авторизации;
- **handleSubmit()** – отправка данных формы регистрации/авторизации на сервер;
- **login(token, email, role)** – сохранение токена авторизации и данных пользователя;
- **logout()** – удаление токена авторизации и выход из аккаунта;
- **checkPasswordMatch(p1, p2)** – проверка совпадения паролей при регистрации;
- **validateEmail(email)** – проверка корректности формата email;
- **validatePassword(password)** – проверка соответствия пароля требованиям (минимум 6 символов, наличие нецифровых символов);
- **changePassword(oldPassword, newPassword)** – отправка запроса на изменение пароля на сервер;
- **isAuthenticated()** – проверка наличия активной сессии пользователя;
- **getToken()** – получение токена авторизации из локального хранилища;

### Функции работы с фильмами:

- **fetchMovies(take)** – загрузка списка фильмов с сервера;
- **fetchMovieDetails(id)** – загрузка детальной информации о фильме;
- **filterMoviesByGenre(movies, genre)** – фильтрация фильмов по жанру;
- **getYouTubeId(url)** – извлечение ID видео YouTube из URL трейлера;
- **openTrailer(youtubeId)** – открытие модального окна с трейлером фильма;
- **closeTrailer()** – закрытие модального окна с трейлером;
- **formatDuration(minutes)** – форматирование длительности фильма в читаемый формат;

### Функции работы с расписанием:

- **fetchSchedules()** – загрузка расписания сеансов с сервера;
- **filterScheduleByDate(schedules, date)** – фильтрация расписания по дате;
- **filterScheduleByMovie(schedules, movieId)** – фильтрация расписания по фильму;
- **filterFutureSessions(sessions, currentTime)** – фильтрация будущих сеансов;
- **generateSchedule(startDate, endDate)** – генерация расписания на период (для администраторов);
- **goToMoviePage(movie, sessions)** – переход на страницу деталей фильма с данными сеансов;

### Функции работы с бронированием:

- **fetchHallRows(hallId)** – загрузка схемы зала (ряды и места);
- **fetchSeatInfo(scheduleId)** – загрузка информации о местах (занятость, цены);
- **selectSeat(seatId)** – выбор места для бронирования;
- **deselectSeat(seatId)** – отмена выбора места;
- **calculatePrice(basePrice, ticketType, modifiers)** – расчет итоговой цены билета с учетом типа билета и модификаторов;
- **createBooking(bookingData)** – отправка запроса на создание бронирования на сервер;
- **validateBooking(selectedSeats, ticketType)** – проверка корректности данных бронирования;
- **fetchUserBookings()** – загрузка истории бронирований пользователя;

### Функции работы с залами:

- **fetchHallDetails(hallId)** – загрузка информации о зале;
- **getSeatType(row)** – определение типа места по ряду;
- **getSeatColor(seatType)** – получение цвета для отображения типа места;
- **isSeatTaken(seatId, takenSeats)** – проверка занятости места;

### Функции валидации и проверки:

- **isEmpty(value)** – проверка поля на пустоту;
- **isNumber(value)** – проверка типа данных (число);
- **isValidDate(date)** – проверка корректности даты;
- **isValidTime(time)** – проверка корректности времени;
- **isValidEmail(email)** – проверка формата email;
- **isValidPassword(password)** – проверка соответствия пароля требованиям;

### Функции работы с данными:

- **getCookie(cname)** – получение значения cookie по имени;
- **setCookie(cname, cvalue, exdays)** – установка cookie;
- **deleteCookie(cname)** – удаление cookie;
- **saveToLocalStorage(key, value)** – сохранение данных в локальное хранилище;
- **getFromLocalStorage(key)** – получение данных из локального хранилища;
- **clearLocalStorage()** – очистка локального хранилища;

### Функции работы с формой обратной связи:

- **handleFeedbackSubmit(formData)** – отправка формы обратной связи на сервер;
- **validateFeedbackForm(name, login, message)** – проверка корректности данных формы обратной связи;
- **resetFeedbackForm()** – очистка формы обратной связи;

### Функции работы с UI:

- **showToast(message, type)** – отображение уведомления пользователю;
- **showDialog(dialogId)** – открытие модального окна;
- **closeDialog(dialogId)** – закрытие модального окна;
- **togglePasswordVisibility()** – переключение видимости пароля;
- **setActiveTab(tabId)** – переключение активной вкладки;

### Функции работы с ценами:

- **calculateBasePrice(zoneId)** – получение базовой цены зоны;
- **applyTicketTypeMultiplier(basePrice, ticketType)** – применение множителя типа билета;
- **applyTimeSlotModifier(price, time)** – применение модификатора времени сеанса;
- **applyPopularityModifier(price, popularityScore)** – применение модификатора популярности фильма;
- **calculateFinalPrice(basePrice, modifiers)** – расчет итоговой цены с учетом всех модификаторов;

---

## 3. ТЕСТИРОВАНИЕ И АНАЛИЗ ПОЛУЧЕННЫХ РЕЗУЛЬТАТОВ

Тестирование программного обеспечения – процесс исследования, испытания программного продукта, имеющий своей целью проверку соответствия между реальным поведением программы и её ожидаемым поведением на конечном наборе тестов, выбранных определённым образом.

### Этапы процесса тестирования:

1) **Проверка в нормальных условиях.** Представляет собой тестирование с исходными данными, требуемыми для нормального функционирования программы.

2) **Проверка в экстремальных условиях.** Представляет собой тестирование программы с граничными и неверными исходными данными. Программа должна работать с граничными исходными данными и отвергать неверные исходные данные.

3) **Проверка в исключительных ситуациях.** Проводится с использованием данных, значения которых лежат за пределами допустимой области. Программа должна отвергать любые данные, которые она не в состоянии обработать правильно.

### В результате проверки программного средства на работоспособность, были проведены следующие тестовые испытания:

1) **Тест №1.** Регистрация пользователя, используя корректные данные.

2) **Тест №2.** Авторизация пользователя, используя корректные данные.

3) **Тест №3.** Регистрация пользователя, используя не корректные данные (неверный формат email, короткий пароль, несовпадение паролей).

4) **Тест №4.** Авторизация пользователя, используя не корректные данные (неверный email или пароль).

5) **Тест №5.** Просмотр списка фильмов на главной странице и странице афиши.

6) **Тест №6.** Фильтрация фильмов по жанрам на странице афиши.

7) **Тест №7.** Просмотр расписания сеансов на выбранную дату.

8) **Тест №8.** Генерация расписания администратором на выбранный период.

9) **Тест №9.** Просмотр детальной информации о фильме.

10) **Тест №10.** Выбор места в зале при бронировании билета.

11) **Тест №11.** Выбор типа билета и расчет итоговой стоимости.

12) **Тест №12.** Оформление бронирования билета авторизованным пользователем.

13) **Тест №13.** Попытка бронирования без авторизации (должна быть перенаправлена на страницу авторизации).

14) **Тест №14.** Просмотр истории бронирований в личном кабинете.

15) **Тест №15.** Изменение пароля пользователя.

16) **Тест №16.** Отправка формы обратной связи на странице контактов.

17) **Тест №17.** Навигация по страницам веб-приложения через меню.

18) **Тест №18.** Корректность отображения веб-приложения в различных браузерах (Chrome, Firefox, Edge, Safari).

19) **Тест №19.** Адаптивность интерфейса на различных устройствах (десктоп, планшет, мобильный телефон).

20) **Тест №20.** Отображение трейлеров фильмов в модальном окне.

21) **Тест №21.** Автоматическая прокрутка фильмов на главной странице.

22) **Тест №22.** Проверка занятости мест при бронировании (нельзя забронировать уже занятое место).

23) **Тест №23.** Валидация данных формы обратной связи (обязательные поля).

24) **Тест №24.** Работа защищенных маршрутов (доступ к странице профиля только для авторизованных пользователей).

---

## 4. РУКОВОДСТВО ПО ИСПОЛЬЗОВАНИЮ ПРОГРАММНОГО СРЕДСТВА

### 4.1. Запуск веб-приложения

Для запуска веб-приложения необходимо зайти в браузер и в поисковой строке ввести адрес приложения (например, `localhost:5173` для разработки или адрес развернутого приложения).

При запуске веб-приложения загружается Главная страница, на которой отображаются текущие фильмы в прокате с автоматической прокруткой.

### 4.2. Навигация по приложению

Для перехода между страницами используется навигационное меню в шапке сайта:
- **Главная** – переход на главную страницу
- **Афиша** – переход на страницу со всеми фильмами
- **Расписание** – переход на страницу расписания сеансов
- **Залы** – переход на страницу информации о залах

### 4.3. Регистрация и авторизация

#### Регистрация пользователя:

Для регистрации необходимо нажать на кнопку входа в шапке сайта, перейти на вкладку "Регистрация" и заполнить форму:
- Email (обязательное поле, должен быть корректного формата)
- Пароль (обязательное поле, минимум 6 символов, должен содержать нецифровые символы)
- Подтверждение пароля (должно совпадать с паролем)
- При необходимости регистрации как администратор – отметить чекбокс и ввести секретный ключ

После успешной регистрации происходит автоматический переход на форму входа.

#### Авторизация пользователя:

Для авторизации необходимо заполнить форму входа:
- Email
- Пароль

После успешной авторизации пользователь получает доступ к защищенным функциям приложения.

### 4.4. Просмотр фильмов

#### Просмотр фильмов на главной странице:

На главной странице отображаются текущие фильмы в прокате с автоматической прокруткой. Для просмотра трейлера фильма необходимо нажать на кнопку "Трейлер". Для перехода к бронированию билета необходимо нажать на кнопку "Купить билет".

#### Просмотр всех фильмов:

Для просмотра всех доступных фильмов необходимо перейти на страницу "Афиша". На этой странице можно фильтровать фильмы по жанрам, нажимая на соответствующие кнопки жанров. Для просмотра детальной информации о фильме необходимо нажать на карточку фильма.

#### Просмотр детальной информации о фильме:

На странице детальной информации о фильме отображается постер, название, описание, длительность, возрастной рейтинг, жанр фильма. Также отображаются доступные сеансы для бронирования. Для бронирования билета необходимо выбрать сеанс и нажать на кнопку "Купить билет".

### 4.5. Просмотр расписания

Для просмотра расписания сеансов необходимо перейти на страницу "Расписание". На этой странице можно выбрать дату с помощью слайдера дат. Для каждого фильма отображаются доступные сеансы с указанием времени и зала. Для перехода к бронированию необходимо нажать на карточку фильма.

#### Генерация расписания (для администраторов):

Для генерации расписания администратору необходимо:
1. На странице "Расписание" нажать на кнопку "Сгенерировать расписание"
2. В открывшемся модальном окне выбрать начальную и конечную даты
3. Нажать на кнопку "Сгенерировать"

Расписание будет автоматически сгенерировано с учетом правил:
- Случайный выбор фильмов на каждый день
- Перерыв между сеансами – 20 минут
- Семейные фильмы (0+, 6+) – до 20:00
- Фильмы 18+ – после 16:00

### 4.6. Бронирование билетов

Для бронирования билета необходимо:
1. Выбрать фильм и сеанс (со страницы расписания или детальной информации о фильме)
2. На странице бронирования выбрать места в зале (нажатием на соответствующие места)
3. Выбрать тип билета (стандартный, студенческий, пенсионный)
4. Просмотреть итоговую стоимость
5. Нажать на кнопку "Забронировать"

**Важно:** Бронирование доступно только для авторизованных пользователей. При попытке бронирования без авторизации пользователь будет перенаправлен на страницу входа.

### 4.7. Личный кабинет

Для доступа к личному кабинету необходимо авторизоваться и нажать на иконку пользователя в шапке сайта, затем выбрать "Профиль".

#### Вкладка "Профиль":

На вкладке "Профиль" отображается email пользователя и статистика (количество билетов, количество фильмов).

#### Вкладка "Билеты":

На вкладке "Билеты" отображается история всех забронированных билетов с информацией о фильме, дате, времени, месте и цене.

#### Вкладка "Безопасность":

На вкладке "Безопасность" можно изменить пароль:
1. Ввести текущий пароль
2. Ввести новый пароль
3. Подтвердить новый пароль
4. Нажать на кнопку "Изменить пароль"

#### Выход из аккаунта:

Для выхода из аккаунта необходимо нажать на кнопку "Выйти" в личном кабинете или в шапке сайта.

### 4.8. Просмотр информации о залах

Для просмотра информации о залах необходимо перейти на страницу "Залы". На этой странице отображается информация о трех залах:
- Зал 1 (Стандартный)
- Зал 2 (Комфортный)
- Зал 3 (VIP)

Для каждого зала отображается фотография, описание, характеристики (количество мест, размер экрана, звуковая система, тип проектора) и информация о типах мест.

### 4.9. Контакты и обратная связь

Для просмотра контактной информации необходимо перейти на страницу "Контакты". На этой странице отображается email и телефон кинотеатра, а также форма обратной связи.

Для отправки сообщения через форму обратной связи необходимо:
1. Ввести имя
2. Ввести логин
3. Ввести текст сообщения
4. Нажать на кнопку "Отправить"

### 4.10. Дополнительные страницы

#### Страница "О нас":

Для просмотра информации о кинотеатре необходимо перейти на страницу "О нас" через футер сайта. На этой странице отображается информация об особенностях кинотеатра, статистике и технологиях.

#### Страница "Политика конфиденциальности":

Для просмотра политики конфиденциальности необходимо перейти на соответствующую страницу через футер сайта.

#### Страница "Условия использования":

Для просмотра условий использования необходимо перейти на соответствующую страницу через футер сайта.

---

## 5. ТЕХНИЧЕСКИЕ ТРЕБОВАНИЯ

### Минимальные требования к браузеру:
- Google Chrome версии 90 и выше
- Mozilla Firefox версии 88 и выше
- Microsoft Edge версии 90 и выше
- Safari версии 14 и выше

### Рекомендуемое разрешение экрана:
- Минимум: 320px (мобильные устройства)
- Оптимально: 1920x1080px и выше (десктоп)

### Требования к интернет-соединению:
- Минимальная скорость: 1 Мбит/с
- Рекомендуемая скорость: 5 Мбит/с и выше

---

## 6. РЕШЕНИЕ ВОЗМОЖНЫХ ПРОБЛЕМ

### Проблема: Не загружаются фильмы или расписание

**Решение:** Проверьте подключение к интернету и обновите страницу. Если проблема сохраняется, обратитесь в службу поддержки.

### Проблема: Не удается авторизоваться

**Решение:** Проверьте правильность введенных email и пароля. Убедитесь, что вы зарегистрированы в системе. При необходимости восстановите пароль.

### Проблема: Не отображается схема зала при бронировании

**Решение:** Обновите страницу и попробуйте снова. Убедитесь, что выбран корректный сеанс.

### Проблема: Не удается забронировать билет

**Решение:** Убедитесь, что вы авторизованы в системе. Проверьте, что место не занято другим пользователем. Попробуйте выбрать другое место.

---

*Документация актуальна на момент создания приложения. Информация может быть обновлена в будущих версиях.*












